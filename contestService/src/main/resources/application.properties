# Config Import
spring.config.import=optional:configserver:${CONFIG_SERVER_URL:http://localhost:8888}

server.port=${PORT:8082}
spring.application.name=CONTEST-SERVICE
spring.config.import=optional:configserver:http://localhost:8888

# Config Server Configuration
spring.cloud.config.fail-fast=true
spring.cloud.config.retry.max-attempts=20
spring.cloud.config.retry.initial-interval=1500
spring.cloud.config.retry.multiplier=1.5

# Eureka Configuration
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=${EUREKA_URL:http://localhost:8761/eureka/}
eureka.instance.prefer-ip-address=true
eureka.instance.hostname=${HOSTNAME:localhost}

# Logging configuration
logging.level.com.codefolio.contestService=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# API configurations
feign.client.config.default.connectTimeout=5000
feign.client.config.default.readTimeout=5000

# CORS configuration (for direct access, though requests should go through API Gateway)
spring.mvc.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=*
spring.mvc.cors.allow-credentials=true

# Auth0 Configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=${JWT_ISSUER_URI:https://dev-l4og12lsekqwkqbp.us.auth0.com/}